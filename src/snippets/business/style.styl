timer = .5s linear forwards
.business 
    box-before(#f2f5ff)
    background: #f2f5ff
    margin-top: 140px
    padding-bottom: 140px
    &__header 
        padding-top: 30px
        padding-bottom: 15px
    &__container 
        { container }
    &__name 
        font-size: 12px
        font-weight: bold 
        text-transform: uppercase 
        color: #999999
        [aria-expanded=true] &
            color: color_primary
    &__list 
        margin: -5px -25px
    &__item 
        position: relative 
        margin: 5px 25px
        cursor: pointer
        svg 
            fill: #666666
            transition: all timer
        &[aria-expanded=true]
            &:before, &:after 
                content: ''
                position: absolute 
                z-index: 15
                top: 0
                width: 50% 
                height: 0 
                border-top: solid 1px color_primary
                animation: animate-border-top timer 
                border-radius: 2px 
            &:before 
                right: 50%
            &:after 
                left: 50% 
            svg 
                fill: color_primary
    &__border 
        position: relative 
        display: flex 
        flex-flow: column nowrap
        justify-content: center 
        align-items: center
        height: 90px
        border-radius: 2px
        box-shadow: 0px 2px 5px 0px rgba(51, 51, 51, 0.25)
        background: #f7f9ff
        
        [aria-expanded=true]  &
            background: #fff 
            &:before, &:after  
                content: ''
                position: absolute 
                z-index: 10
                top: 0
                width: 100%
                height: 100%
                border-radius: 2px 
                animation: animate-border-lateral timer 
            &:before 
                border-left: solid 1px color_primary
                border-bottom: solid 1px color_primary
                left: 0
            &:after 
                border-right: solid 1px color_primary
                border-bottom: solid 1px color_primary
                right: 0
    &__more 
        max-height: 0
        overflow: hidden 
        transition: all 1s ease
        [aria-expanded=true] & 
            animation: animate-more timer 
            max-height: 250px
            overflow: visible
    &__description 
        position: relative 
        z-index: 20
        padding: 70px 50px 15px
        font-size: 13px 
        font-weight: medium 
        line-height: 1.5
        text-align: center 
        color: #333
        &:after 
            content: ''
            position: absolute 
            top: -(14px/2)
            left: 50% 
            width: 14px
            height: 14px
            border-radius: 50% 
            background: color_primary
            transform: translateX(-50%)
            opacity: 0 
            [aria-expanded=true] &
                opacity: 1
                animation: animate-border-button timer 
        &:before 
            content: ''
            position: absolute 
            top: 17px 
            left: 50% 
            height: 40px 
            width: 1px 
            background: color_primary
            transform: translateX(-50%)
            max-height: 0
            [aria-expanded=true] & 
                max-height: 100% 
                animation: animate-border-line timer 

@media (min-width: 668px)
    .business
        &__list 
            display: grid 
            grid-template-rows: 1fr 
            grid-template-columns: repeat(2,1fr)

@media (min-width: 768px)
    .business
        &__list 
            grid-template-columns: repeat(3,1fr)

@media (min-width: 992px)
    .business 
        margin-top: 240px
        &__list 
            display: flex 
            justify-content: space-between
            align-items: flex-start
            height: 250px
        &__item
            flex: 1 1 auto
            min-width: 0
        &__description 
            padding-left: 0 
            padding-right: 0 
            min-width: 200px 
            position: relative 
            left: 50% 
            transform: translateX(-50%)


@keyframes animate-border-top 
    0% 
        width: 0 
    25% 
        width: 50%

@keyframes animate-border-lateral
    0% 
        width: 0 
        height: 0
    50% 
        width: 0
        height: 50%
    55% 
        width: 0
        height: 100%
    80%
        width: 50%
        height: 100%

@keyframes animate-border-button
    0%, 80%
        opacity: 0
    100%
        opacity: 1

@keyframes animate-border-line
    0%, 80%
        max-height: 0
    100%
        max-height: 100% 

@keyframes animate-more 
    0%, 80%
        max-height: 0 
        overflow: hidden 
    100% 
        max-height: 250px
        overflow: visible